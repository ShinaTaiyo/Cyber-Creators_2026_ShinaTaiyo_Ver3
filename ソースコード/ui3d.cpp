//============================================================================================================
//
//１０月２８日：狙った方向に弾を発射する[ui3d.cpp]
//Author:ShinaTaiyo
//
//============================================================================================================

//=======================================================
//インクルード
//=======================================================
#include "ui3d.h"
#include "manager.h"
#include "texture.h"
//============================================================================================================

//=======================================================
//前方宣言
//=======================================================
const string CUi3D::m_UI3D_FILENAME[static_cast<int>(CUi3D::UI3DTYPE::MAX)] =
{
	"data\\TEXTURE\\UI3D\\Target_000.png",
};

//=======================================================
//コンストラクタ
//=======================================================
CUi3D::CUi3D(int nPri, bool bUseintPri, CObject::TYPE type, CObject::OBJECTTYPE ObjType) : CBillboard(nPri,bUseintPri,type,ObjType)
{

}
//============================================================================================================

//=======================================================
//デストラクタ
//=======================================================
CUi3D::~CUi3D()
{

}
//============================================================================================================

//=======================================================
//初期化処理
//=======================================================
HRESULT CUi3D::Init(void)
{
	CBillboard::Init();
	return S_OK;
}
//============================================================================================================

//=======================================================
//終了処理
//=======================================================
void CUi3D::Uninit(void)
{
	CBillboard::Uninit();
}
//============================================================================================================

//=======================================================
//更新処理
//=======================================================
void CUi3D::Update(void)
{
	CBillboard::Update();
}
//============================================================================================================

//=======================================================
//描画処理
//=======================================================
void CUi3D::Draw(void)
{
	CBillboard::Draw();
}
//============================================================================================================

//=======================================================
//死亡フラグ設定処理
//=======================================================
void CUi3D::SetDeath()
{
	CBillboard::SetDeath();
}
//============================================================================================================

//=======================================================
//生成処理
//=======================================================
CUi3D* CUi3D::Create(UI3DTYPE type, D3DXVECTOR3 Pos, D3DXVECTOR3 Move, int nLife, float fWidth, float fHeight)
{
	CUi3D* pUi3D = DBG_NEW CUi3D;
	CTexture* pTexture = CManager::GetTexture();

	pUi3D->Init();
	pUi3D->SetType(CObject::TYPE::UI3D);
	pUi3D->SetMove(Move);
	pUi3D->SetTextureIndex(pTexture->Regist(m_UI3D_FILENAME[static_cast<int>(type)]));
	pUi3D->bindTexture(pTexture->GetAddress(pUi3D->GetTextureIndex()));

	pUi3D->SetLife(nLife);
	pUi3D->SetMaxLife(nLife);
	pUi3D->SetPos(Pos);
	pUi3D->SetSupportPos(Pos);

	pUi3D->SetSize(fWidth,fHeight);
	pUi3D->SetFormarSize(fWidth, fHeight);

	pUi3D->SetAnimInfo(1, 1, D3DXCOLOR(1.0f,1.0f,1.0f,1.0f), false);//アニメーション情報を設定


	return pUi3D;
}
//============================================================================================================
