//=======================================================================================================================================================================================================================
//
// フィールドの処理に関するヘッダーファイル
// Author : Atsumu Kuboichi
//
//=======================================================================================================================================================================================================================
#ifndef _FIELD_H_
#define _FIELD_H_

#include "main.h"

//=======================================================================================================================================================================================================================
// マクロ定義
//=======================================================================================================================================================================================================================

//==========================
//フィールド
//==========================
#define FIELD_WIDTH		(2000.0f)	//横幅
#define FIELD_HEIGHT	(2500.0f)	//縦幅
#define TUTORIAL_SCALE	(250.0f)	//チュートリアル用のフィールド半径
#define NUM_FIELD		(2)			//テクスチャの種類

//==========================
//演出フィールド
//==========================
#define NUM_STAGINGFIELD (1)  //演出フィールドの種類
#define MAX_STAGINGFIELD (128)//演出フィールドの最大数


//=======================================================================================================================================================================================================================
// 列挙型
//=======================================================================================================================================================================================================================

typedef enum
{
	STAGINGFIELD00_MAGICCIRCLE = 0,
	STAGINGFIELD_MAX
}STAGINGFIELDTYPE;

//=======================================================================================================================================================================================================================
// 構造体
//=======================================================================================================================================================================================================================
typedef struct
{
	PDIRECT3DVERTEXBUFFER9 pVtxBuff;		//頂点バッファへのポインタ
	LPDIRECT3DTEXTURE9 pTexture[NUM_FIELD];	//テクスチャへのポインタ
	D3DXMATRIX mtxworld;					//ワールドマトリックス
	D3DXVECTOR3 pos;						//位置
	D3DXVECTOR3 rot;						//向き
	int nType;								//種類
	float fWidth;							//横幅
	float fHeight;							//縦幅
}Field;

typedef struct
{
	D3DXVECTOR3 pos;						//位置
	D3DXVECTOR3 rot;						//向き
	D3DXMATRIX mtxworld;					//ワールドマトリックス
	bool bUse;                              //使用状態
	int nType;								//種類
	int nLife;                              //体力
	float fWidth;							//横幅
	float fHeight;							//縦幅
	float fRot;                             //向き
}StagingField;

//=======================================================================================================================================================================================================================
// フィールドのテクスチャファイル
//=======================================================================================================================================================================================================================

//============================
//フィールド
//============================
static const char* FIELD_FILENAME[NUM_FIELD] =
{
	"data\\TEXTURE\\Tutorial_Field000.png",	//チュートリアル用
	"data\\TEXTURE\\field000.png",			//ゲーム用
};

//============================
//演出フィールド
//============================
static const char* STAGINGFIELD_FILENAME[NUM_STAGINGFIELD] =
{
	"data\\TEXTURE\\MagicCircle_000.png",	//ボス出現時に出す魔法陣
};



//=======================================================================================================================================================================================================================
// プロトタイプ宣言
//=======================================================================================================================================================================================================================

//======================================
//フィールド
//======================================
void InitField(void);	//初期化処理
void UninitField(void);	//終了処理
void UpdateField(void);	//更新処理
void DrawField(void);	//描画処理
Field* GetField(void);	//構造体の情報を取得

//======================================
//演出フィールド
//======================================
void InitStagingField(void);  //初期化
void UninitStagingField(void);//終了処理
void UpdateStagingField(void);//更新処理
void DrawStagingField(void);  //描画処理
void SetStagingField(int nType, int nLife, float fWidth, float fHeight, float fRot, D3DXVECTOR3 pos, D3DXVECTOR3 rot);//設定処理
StagingField* GetStagingField(void);//構造体の情報を取得

#endif
