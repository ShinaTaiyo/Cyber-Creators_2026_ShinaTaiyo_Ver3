//================================================================================================================================================================================================================================
//
// ダミー人形の処理に関するヘッダーファイル
// Author : Atsumu Kuboichi
//
//================================================================================================================================================================================================================================
#ifndef _DUMMY_H_	//このマクロ定義がされなかったら
#define _DUMMY_H_	//2重インクルード防止のマクロ定義

#include "main.h"
#include "player.h"
//================================================================================================================================================================================================================================
// マクロ定義
//================================================================================================================================================================================================================================
#define DUMMY_LIFE		(20)	//ダミーの体力
#define RESPAWN_TIME	(0.5f)	//ダミーの復活時間(秒)

//================================================================================================================================================================================================================================
// 構造体
//================================================================================================================================================================================================================================
typedef struct
{
	LPD3DXMESH pMesh;			//メッシュの(頂点情報)へのポインタ
	LPD3DXBUFFER pBuffMat;		//マテリアルのポインタ
	DWORD dwNumMat;				//マテリアルの数
	D3DXMATRIX mtxWorld;		//ワールドマトリックス
	LPDIRECT3DTEXTURE9 pTexture;//テクスチャへのポインタ
	D3DXVECTOR3 vtxMin;			//最小値
	D3DXVECTOR3 vtxMax;			//最大値
	D3DXVECTOR3 pos;			//位置
	D3DXVECTOR3 rot;			//向き
	D3DXVECTOR3 Size;           //サイズ
	int nLife;					//体力
	int nRespawn;				//リスポーンカウント
	int nRespawnTime;           //リスポーンするまでの時間
	bool bUse;					//使用しているかどうか
	bool bHitStop[PLAYERATTACK_MAX];//プレイヤーの攻撃に対するヒットストップ
	int nHitStopTime[PLAYERATTACK_MAX];//それぞれの攻撃に対してヒットストップをしている時間をカウントする
}Dummy;

//================================================================================================================================================================================================================================
// プロトタイプ宣言
//================================================================================================================================================================================================================================
void InitDummy(void);	      //初期化処理
void UninitDummy(void);	      //終了処理
void UpdateDummy(void);	      //更新処理
void DrawDummy(void);	      //描画処理
Dummy* GetDummy(void);        //構造体の情報取得
void HitStopDummy(void);      //ヒットストップの処理を行う
void DamageDummy(int nDamage,PLAYERATTACK PlayerAttack);//ダミーにダメージを与える

#endif
